import{r as d,u as C,c as S,a as b,o as v,b as e,t as r,n as i,f as T,w as m,v as h,g as y}from"./index-DhvCZUVT.js";const N={key:0,class:"p-4"},P={class:"space-y-8"},$={class:"grid gap-6 p-4 bg-gray-100 rounded-md lg:grid-cols-3"},I={class:"col-span-2"},M={class:"grid grid-cols-2 text-sm gap-y-3 gap-x-6"},R={class:"font-medium"},D={class:"font-mono"},V={class:"capitalize"},U={class:"border-t border-gray-300 lg:pl-6 lg:border-t-0 lg:border-l"},A={class:"space-y-2 text-sm"},B={class:"p-4 bg-gray-100 rounded-md"},Y={class:"grid gap-6 md:grid-cols-2"},j=["value"],z=["value"],E={class:"mt-6"},L={key:0,class:"flex flex-col gap-4 mt-4 text-sm md:flex-row"},O={class:"w-full p-4 border md:w-1/2 rounded-xl bg-blue-50"},q={class:"w-full p-4 border md:w-1/2 rounded-xl bg-blue-50"},F={class:"p-4 mt-8 bg-gray-100 rounded-md"},G={class:"flex flex-col gap-4 md:flex-row"},H={key:1,class:"p-4 text-center text-gray-400"},Q={__name:"Customer",setup(J){const c=d(!1),f=C(),l=d({id:f.params.id||1,name:"Alice",contractType:"monthly",satisfactionScore:3,monthlyCharge:59.99,totalRevenue:1200,probability:.65,churn:0}),o=S(()=>({...l.value})),a=d(null),g=d(null),u=d(!1),w=async()=>{await new Promise(s=>setTimeout(s,500)),a.value=Math.random(),console.log("New prediction:",a.value)},x=async s=>{g.value=s,await k()},k=async()=>{u.value=!0,await new Promise(s=>setTimeout(s,500)),alert(`Intervention created: Sent ${g.value} email to ${l.value.name}`),u.value=!1},p=s=>s!=null?`${Math.round(s*1e4)/100}%`:"N/A";return(s,t)=>c.value?(v(),b("div",H," Loading customer details... ")):(v(),b("div",N,[e("div",P,[e("div",$,[e("div",I,[t[13]||(t[13]=e("h2",{class:"mb-4 text-xl font-semibold"},"Customer Details",-1)),e("div",M,[e("div",null,[t[7]||(t[7]=e("span",{class:"block text-gray-500"},"Name",-1)),e("span",R,r(l.value.name),1)]),e("div",null,[t[8]||(t[8]=e("span",{class:"block text-gray-500"},"ID",-1)),e("span",D,"#"+r(String(l.value.id).padStart(3,"0")),1)]),e("div",null,[t[9]||(t[9]=e("span",{class:"block text-gray-500"},"Contract Type",-1)),e("span",V,r(l.value.contractType),1)]),e("div",null,[t[10]||(t[10]=e("span",{class:"block text-gray-500"},"Satisfaction Score",-1)),e("span",null,r(l.value.satisfactionScore),1)]),e("div",null,[t[11]||(t[11]=e("span",{class:"block text-gray-500"},"Monthly Charge",-1)),e("span",null,"$"+r(l.value.monthlyCharge),1)]),e("div",null,[t[12]||(t[12]=e("span",{class:"block text-gray-500"},"Total Revenue",-1)),e("span",null,"$"+r(l.value.totalRevenue),1)])])]),e("div",U,[t[16]||(t[16]=e("h2",{class:"mb-4 text-xl font-semibold"},"Churn Overview",-1)),e("div",A,[e("div",null,[t[14]||(t[14]=e("span",{class:"block text-gray-500"},"Churn Probability",-1)),e("span",{class:i(["font-medium",{"text-rose-600":l.value.probability>.75}])},r(p(l.value.probability)),3)]),e("div",null,[t[15]||(t[15]=e("span",{class:"block text-gray-500"},"Actually Churned?",-1)),e("span",{class:i(["font-medium",{"text-rose-600":l.value.churn===1,"text-emerald-600":l.value.churn===0}])},r(l.value.churn===1?"Yes":"No"),3)])])])]),e("div",B,[t[26]||(t[26]=e("h2",{class:"mb-4 text-xl font-semibold"},"Predict New Churn",-1)),e("div",Y,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-600"},"ID",-1)),e("input",{value:String(o.value.id).padStart(3,"0"),type:"text",disabled:"",class:"w-full px-3 py-2 mt-1 text-sm text-gray-500 duration-100 bg-gray-200 border-2 border-transparent rounded-lg outline-none focus:border-primary"},null,8,j)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-600"},"Name",-1)),e("input",{value:o.value.name,type:"text",disabled:"",class:"w-full px-3 py-2 mt-1 text-sm text-gray-500 duration-100 bg-gray-200 border-2 border-transparent rounded-lg outline-none focus:border-primary"},null,8,z)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-600"},"Contract Type",-1)),m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>o.value.contractType=n),class:"w-full px-3 py-2 mt-1 text-sm duration-100 bg-gray-200 border-2 border-transparent rounded-lg outline-none focus:border-primary"},[...t[19]||(t[19]=[e("option",{value:"monthly"},"Monthly",-1),e("option",{value:"one year"},"One Year",-1),e("option",{value:"two year"},"Two Year",-1)])],512),[[h,o.value.contractType]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-600"},"Satisfaction Score",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>o.value.satisfactionScore=n),type:"number",min:"1",max:"5",class:"w-full px-3 py-2 mt-1 text-sm duration-100 bg-gray-200 border-2 border-transparent rounded-lg outline-none focus:border-primary"},null,512),[[y,o.value.satisfactionScore,void 0,{number:!0}]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-600"},"Monthly Charge",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>o.value.monthlyCharge=n),type:"number",step:"0.01",class:"w-full px-3 py-2 mt-1 text-sm duration-100 bg-gray-200 border-2 border-transparent rounded-lg outline-none focus:border-primary invalid:!border-rose-600"},null,512),[[y,o.value.monthlyCharge,void 0,{number:!0}]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-600"},"Total Revenue",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>o.value.totalRevenue=n),type:"number",step:"0.01",class:"w-full px-3 py-2 mt-1 text-sm duration-100 bg-gray-200 border-2 border-transparent rounded-lg outline-none focus:border-primary invalid:!border-rose-600"},null,512),[[y,o.value.totalRevenue,void 0,{number:!0}]])])]),e("div",E,[e("button",{onClick:t[4]||(t[4]=n=>(async()=>await w())()),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-xl hover:bg-blue-700 active:bg-blue-800"}," Predict Churn ")]),a.value!==null?(v(),b("div",L,[e("div",O,[t[24]||(t[24]=e("span",{class:"block font-semibold text-blue-700"},"Churn Probability",-1)),e("span",{class:i(["text-lg font-bold",{"text-rose-600":l.value.probability>75,"text-emerald-600":l.value.probability<=20}])},r(p(l.value.probability)),3)]),e("div",q,[t[25]||(t[25]=e("span",{class:"block font-semibold text-blue-700"},"New Churn Probability",-1)),e("span",{class:i(["text-lg font-bold",{"text-rose-600":a.value>75,"text-emerald-600":a.value<=20}])},r(p(a.value)),3)])])):T("",!0)])]),e("div",F,[t[27]||(t[27]=e("h2",{class:"mb-4 text-xl font-semibold"},"Interventions Suggestions",-1)),e("div",G,[e("div",{onClick:t[5]||(t[5]=n=>(async()=>x("support"))()),class:i(["flex items-center justify-center w-full h-32 p-4 duration-100 bg-white border-2 border-gray-200 rounded-md md:w-1/2 hover:cursor-pointer hover:border-primary",{"!bg-gray-200":u.value}])}," Send a Support Email ",2),e("div",{onClick:t[6]||(t[6]=n=>(async()=>x("discount"))()),class:i(["flex items-center justify-center w-full h-32 p-4 duration-100 bg-white border-2 border-gray-200 rounded-md md:w-1/2 hover:cursor-pointer hover:border-primary",{"!bg-gray-200":u.value}])}," Send a 20% Discount ",2)])])]))}};export{Q as default};
